<!--pages/detail/detail.wxml-->
<view class="container" wx:if="{{item}}">
  <!-- è§†é¢‘å°é¢ -->
  <view class="cover-section">
    <image class="cover-image" src="{{item.coverImage}}" mode="aspectFill" />
    <view class="play-btn">
      <text>â–¶</text>
    </view>
  </view>

  <!-- å†…å®¹ä¿¡æ¯ -->
  <view class="content-section card">
    <view class="tags">
      <text class="tag primary">{{regionName}}</text>
      <text class="tag hot">ğŸ”¥ çƒ­é—¨</text>
    </view>

    <view class="title">{{item.title}}</view>
    <view class="description">{{item.description}}</view>

    <!-- æ•°æ®ç»Ÿè®¡ -->
    <view class="stats-grid">
      <view class="stat-card">
        <text class="stat-value">{{formatNumber(item.stats.views)}}</text>
        <text class="stat-label">æ’­æ”¾é‡</text>
      </view>
      <view class="stat-card">
        <text class="stat-value">{{formatNumber(item.stats.likes)}}</text>
        <text class="stat-label">ç‚¹èµæ•°</text>
      </view>
      <view class="stat-card">
        <text class="stat-value">{{formatNumber(item.stats.comments)}}</text>
        <text class="stat-label">è¯„è®ºæ•°</text>
      </view>
      <view class="stat-card highlight">
        <text class="stat-value">+{{item.stats.growth}}%</text>
        <text class="stat-label">å¢é•¿ç‡</text>
      </view>
    </view>
  </view>

  <!-- å•†å“ä¿¡æ¯ -->
  <view class="product-section card" wx:if="{{item.product}}">
    <view class="section-title">
      <text>ğŸ›’ ç›¸å…³å•†å“</text>
    </view>
    <view class="product-info">
      <view class="product-main">
        <text class="product-price">${{item.product.price}}</text>
        <text class="product-shop">{{item.product.shop}}</text>
      </view>
      <view class="product-stats">
        <text class="sales">å·²å”® {{formatNumber(item.stats.sales)}}</text>
        <text class="growth">ğŸ“ˆ å¢é•¿ +{{item.stats.growth}}%</text>
      </view>
    </view>
    <button class="btn-view-product">æŸ¥çœ‹å•†å“è¯¦æƒ…</button>
  </view>

  <!-- å¸‚åœºåˆ†æ -->
  <view class="analysis-section card">
    <view class="section-title">
      <text>ğŸ“Š å¸‚åœºä¿¡å·åˆ†æ</text>
    </view>
    <view class="analysis-content">
      <view class="analysis-item">
        <text class="analysis-label">å¸‚åœºéœ€æ±‚</text>
        <view class="analysis-bar">
          <view class="bar-fill" style="width: 85%"></view>
        </view>
        <text class="analysis-value">é«˜éœ€æ±‚</text>
      </view>
      <view class="analysis-item">
        <text class="analysis-label">ä»·æ ¼ç«äº‰åŠ›</text>
        <view class="analysis-bar">
          <view class="bar-fill" style="width: 70%"></view>
        </view>
        <text class="analysis-value">ä¸­æ¡£ä»·ä½</text>
      </view>
      <view class="analysis-item">
        <text class="analysis-label">è¶‹åŠ¿æŒç»­</text>
        <view class="analysis-bar">
          <view class="bar-fill" style="width: 90%"></view>
        </view>
        <text class="analysis-value">æŒç»­ä¸Šå‡</text>
      </view>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-bar">
    <button class="action-btn" bindtap="shareItem">
      <text>ğŸ“¤ åˆ†äº«</text>
    </button>
    <button class="action-btn primary" bindtap="generatePoster">
      <text>ğŸ“„ ç”Ÿæˆæµ·æŠ¥</text>
    </button>
  </view>
</view>

<!-- åŠ è½½çŠ¶æ€ -->
<view class="loading" wx:if="{{loading}}">
  <text>åŠ è½½ä¸­...</text>
</view>

<!-- ç©ºçŠ¶æ€ -->
<view class="empty" wx:if="{{!item && !loading}}">
  <text>å†…å®¹ä¸å­˜åœ¨</text>
</view>
