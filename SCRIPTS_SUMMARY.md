# 一键启动脚本 - 使用总结

## 📁 已创建的脚本文件

项目根目录下现在包含以下启动脚本：

| 文件名 | 类型 | 功能 | 推荐度 |
|--------|------|------|--------|
| **start.bat** | 批处理 | 一键启动所有服务 | ⭐⭐⭐⭐⭐ |
| **stop.bat** | 批处理 | 停止所有服务 | ⭐⭐⭐⭐⭐ |
| **start.ps1** | PowerShell | 高级启动脚本 | ⭐⭐⭐⭐ |
| **status.bat** | 批处理 | 检查服务状态 | ⭐⭐⭐⭐ |

---

## 🚀 快速开始（3 步）

### 1️⃣ 双击 `start.bat`

这是最简单的方式，适合所有用户。

**会发生什么：**
```
✅ 检查 Node.js 环境
✅ 检查 Python 环境
✅ 关闭占用端口的进程
✅ 启动后端服务（端口 3000）
✅ 启动前端服务（端口 8080）
✅ 自动打开浏览器
```

### 2️⃣ 浏览器自动打开

访问地址：http://127.0.0.1:8080/index-vue.html

### 3️⃣ 开始使用

- 选择行业查看工厂
- 生成精美的海报
- 查看每周市场报告

---

## 🛑 停止服务

### 方式 1：双击 `stop.bat`

自动停止所有服务，最简单。

### 方式 2：在服务窗口按 `Ctrl + C`

手动停止单个服务。

---

## 🔍 检查状态

双击 `status.bat` 可以：

- ✅ 查看服务运行状态
- ✅ 显示进程 PID
- ✅ 测试 API 连接
- ✅ 快速打开页面
- ✅ 启动/停止服务
- ✅ 刷新状态

**输出示例：**
```
========================================
  TikTok B2B - 服务状态检查
========================================

[后端服务 - 端口 3000]
✅ 状态: 运行中
   PID: 12345
   地址: http://localhost:3000/api

[前端服务 - 端口 8080]
✅ 状态: 运行中
   PID: 12346
   地址: http://127.0.0.1:8080/index-vue.html

[API 连接测试]
 ✅ API 连接正常
```

---

## 💡 高级功能：PowerShell 脚本

### 使用 `start.ps1`

**优点：**
- 🎨 美观的彩色输出
- 📊 详细的进度显示
- 🔍 完整的环境检查
- 💾 自动保存进程 ID
- ⚡ 更好的错误处理

**使用方法：**
1. 右键点击 `start.ps1`
2. 选择 "使用 PowerShell 运行"

**如果遇到限制：**
```powershell
# 在 PowerShell 中运行一次
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

---

## 🎯 功能对比

| 功能 | start.bat | start.ps1 | status.bat |
|------|-----------|-----------|------------|
| 环境检查 | ✅ | ✅ | ❌ |
| 自动关闭端口占用 | ✅ | ✅ | ❌ |
| 彩色输出 | ❌ | ✅ | ✅ |
| 进度显示 | 文字 | 详细 | ❌ |
| 保存进程 ID | ❌ | ✅ | ❌ |
| 自动打开浏览器 | ✅ | ✅ | 可选 |
| 停止服务 | ❌ | ❌ | ✅ |

---

## 📋 脚本功能详解

### start.bat（推荐）

**执行流程：**
```
1. 检查 Node.js
   ├─ ✅ 已安装 → 显示版本
   └─ ❌ 未安装 → 提示安装并退出

2. 检查 Python
   ├─ ✅ 已安装 → 显示版本
   └─ ❌ 未安装 → 提示安装并退出

3. 检查端口占用
   ├─ 端口 3000 (后端)
   ├─ 端口 8080 (前端)
   └─ 自动关闭占用进程

4. 检查依赖
   ├─ node_modules 存在 → 跳过
   └─ 不存在 → 自动安装

5. 启动服务
   ├─ 启动后端 (新窗口)
   ├─ 等待 5 秒
   ├─ 启动前端 (新窗口)
   ├─ 等待 2 秒
   └─ 打开浏览器
```

**输出示例：**
```
========================================
  TikTok B2B 工厂出口信息平台
  一键启动脚本 v1.0
========================================

[1/5] 检查 Node.js 环境...
✅ Node.js 已安装
v20.11.0

[2/5] 检查 Python 环境...
✅ Python 已安装
Python 3.12.0

[3/5] 检查端口占用...
✅ 端口 3000 可用
✅ 端口 8080 可用

[4/5] 检查后端依赖...
✅ 后端依赖已存在

[5/5] 启动服务...
========================================
  正在启动后端服务 (端口 3000)...
========================================
⏳ 等待后端服务启动 (5秒)...

========================================
  正在启动前端服务 (端口 8080)...
========================================
⏳ 等待前端服务启动 (2秒)...

========================================
  正在打开浏览器...
========================================

========================================
  ✅ 所有服务启动成功！
========================================

📍 服务地址:
   • 前端页面: http://127.0.0.1:8080/index-vue.html
   • 后端 API: http://localhost:3000/api

💡 提示:
   • 关闭此窗口不会停止服务
   • 如需停止服务，请运行 stop.bat
   • 可以通过 Ctrl+C 停止单个服务

🎉 享受使用 TikTok B2B 平台！
```

### stop.bat

**功能：**
- 查找并关闭端口 3000 的进程
- 查找并关闭端口 8080 的进程
- 显示操作结果

**输出示例：**
```
========================================
  TikTok B2B - 停止所有服务
========================================

正在停止后端服务 (端口 3000)...
   正在关闭进程 PID: 12345
✅ 后端服务已停止

正在停止前端服务 (端口 8080)...
   正在关闭进程 PID: 12346
✅ 前端服务已停止

========================================
  ✅ 所有服务已停止
========================================
```

### status.bat

**功能：**
- 显示服务运行状态
- 显示进程 PID
- 提供交互式菜单

**菜单选项：**
1. 打开前端页面
2. 启动服务
3. 停止服务
4. 刷新状态
0. 退出

---

## 🔧 故障排除

### 问题 1：双击没反应

**解决：**
1. 右键点击 → 编辑
2. 确认文件内容正确
3. 以管理员身份运行

### 问题 2：端口占用无法关闭

**解决：**
```bash
# 手动查看端口占用
netstat -ano | findstr :3000

# 记下 PID，手动关闭
taskkill /F /PID <PID号>
```

### 问题 3：浏览器未打开

**解决：**
- 手动在浏览器输入：http://127.0.0.1:8080/index-vue.html
- 检查防火墙设置

### 问题 4：PowerShell 脚本报错

**解决：**
```powershell
# 修改执行策略
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser

# 或右键文件 → 属性 → 解锁
```

---

## 📊 性能指标

| 指标 | 数值 |
|------|------|
| 启动时间 | ~10 秒 |
| 内存占用 | ~200 MB |
| CPU 占用 | < 5% |
| 端口占用 | 3000 + 8080 |

---

## 🎨 用户体验优化

### 视觉反馈
- ✅ 彩色 emoji 图标
- ✅ 清晰的进度提示
- ✅ 详细的错误信息
- ✅ 成功/失败状态显示

### 交互友好
- ✅ 自动化流程
- ✅ 智能端口检测
- ✅ 自动浏览器打开
- ✅ 友好的提示信息

### 错误处理
- ✅ 环境检查
- ✅ 依赖自动安装
- ✅ 端口冲突处理
- ✅ 详细错误提示

---

## 📖 相关文档

- `START_GUIDE.md` - 详细使用指南
- `README.md` - 项目说明
- `POSTER_UI_UX_IMPROVEMENTS.md` - 海报功能说明
- `WEEKLY_REPORT_POSTER.md` - 每周报告海报说明

---

## 🎯 最佳实践

1. **首次使用**：运行 `start.bat`
2. **日常使用**：直接双击 `start.bat`
3. **检查状态**：运行 `status.bat`
4. **停止服务**：运行 `stop.bat`
5. **问题排查**：查看命令行窗口的错误信息

---

## 📞 快速命令

| 操作 | 命令 |
|------|------|
| 启动 | `start.bat` |
| 停止 | `stop.bat` |
| 状态 | `status.bat` |
| 高级启动 | 右键 `start.ps1` → PowerShell 运行 |

---

**享受一键启动的便利！** 🚀
