# 局域网访问配置指南

## 🌐 让其他人访问你的项目

本指南将帮助你配置项目，使局域网内的其他设备（手机、平板、其他电脑）也能访问。

---

## 📁 新增文件

| 文件 | 功能 | 使用时机 |
|------|------|----------|
| **start-network.bat** | 启动局域网模式 | 需要其他人访问时 |
| **show-ip.bat** | 显示IP地址 | 查看访问地址 |
| **config-firewall.bat** | 配置防火墙 | 无法访问时 |

---

## 🚀 快速开始（3 步）

### 步骤 1：启动网络模式

**双击 `start-network.bat`**

这会：
- ✅ 检测你的本地 IP 地址
- ✅ 启动后端服务（监听所有网络）
- ✅ 启动前端服务（监听所有网络）
- ✅ 显示访问地址

### 步骤 2：查看访问地址

**双击 `show-ip.bat`**

会显示：
- 本地访问地址（127.0.0.1）
- 局域网访问地址（你的 IP）

### 步骤 3：其他人访问

在其他设备的浏览器中输入：
```
http://你的IP地址:8080/index-vue.html
```

**示例：**
```
http://192.168.1.100:8080/index-vue.html
```

---

## 📋 详细配置步骤

### 1. 确保网络连接

**重要：** 两台设备必须在**同一个网络**

- ✅ 连接同一个 WiFi
- ✅ 或通过以太网连接到同一个路由器
- ❌ 不能在不同的网络（如手机使用移动数据）

### 2. 启动服务

**双击 `start-network.bat`**

启动后会显示：
```
[INFO] Local IP Address: 192.168.1.100

[SUCCESS] Services Started!

📍 Access Addresses:

   Local (this computer):
      http://localhost:8080/index-vue.html

   Network (other devices):
      http://192.168.1.100:8080/index-vue.html
```

### 3. 配置防火墙（如果无法访问）

**如果其他设备无法访问，尝试：**

#### 方式 A：使用防火墙配置脚本（推荐）

**右键 `config-firewall.bat` → 以管理员身份运行**

这会自动添加防火墙规则，允许端口 3000 和 8080。

#### 方式 B：手动配置防火墙

1. 打开 **Windows Defender 防火墙**

2. 点击 **"高级设置"**

3. 点击 **"入站规则"**

4. 点击 **"新建规则"**

5. 选择 **"端口"** → 下一步

6. 输入端口：
   - TCP
   - 特定本地端口：**8080**
   - 下一步

7. 选择 **"允许连接"** → 下一步

8. 勾选所有配置文件 → 下一步

9. 名称：**"TikTok Frontend"** → 完成

10. 重复步骤 4-9，端口改为 **3000**，名称为 **"TikTok Backend"**

---

## 🌐 访问方式

### 在同一台电脑上

```
http://localhost:8080/index-vue.html
或
http://127.0.0.1:8080/index-vue.html
```

### 在其他设备上

**手机/平板：**
1. 连接到同一个 WiFi
2. 打开浏览器（Chrome/Safari）
3. 输入：`http://你的IP:8080/index-vue.html`

**其他电脑：**
1. 连接到同一个网络
2. 打开浏览器
3. 输入：`http://你的IP:8080/index-vue.html`

---

## 🔍 如何查找你的 IP 地址

### 方式 1：使用脚本（推荐）

**双击 `show-ip.bat`**

### 方式 2：手动查找

1. 按 `Win + R`
2. 输入 `cmd`
3. 在命令行中输入：
   ```bash
   ipconfig
   ```
4. 找到 "IPv4 地址"（不是 127.0.0.1）
5. 通常是 `192.168.x.x` 或 `10.0.0.x`

---

## 📱 不同设备的访问示例

### 电脑浏览器
```
http://192.168.1.100:8080/index-vue.html
```

### 手机浏览器
```
http://192.168.1.100:8080/index-vue.html
```

### 平板浏览器
```
http://192.168.1.100:8080/index-vue.html
```

---

## ⚠️ 故障排除

### 问题 1：其他设备无法访问

**可能原因：**
- 设备不在同一个网络
- 防火墙阻止了连接
- 使用了 VPN
- IP 地址改变了

**解决方案：**
1. 确认所有设备连接同一个 WiFi
2. 运行 `config-firewall.bat`（以管理员身份）
3. 关闭 VPN
4. 重新运行 `show-ip.bat` 获取最新 IP

### 问题 2：显示 "连接被拒绝"

**解决方案：**
1. 检查服务是否正在运行
   ```bash
   # 运行 status.bat 检查服务状态
   ```
2. 确认使用了 `start-network.bat` 而不是 `start.bat`
3. 重新启动服务

### 问题 3：访问很慢

**可能原因：**
- 网络带宽不足
- WiFi 信号弱
- 同时有大量数据传输

**解决方案：**
1. 移动到路由器附近
2. 使用以太网而非 WiFi
3. 关闭其他占用带宽的程序

### 问题 4：只能本地访问，局域网无法访问

**解决方案：**
1. 检查后端是否监听 0.0.0.0（已自动配置）
2. 检查前端启动命令是否为 `--bind 0.0.0.0`（已自动配置）
3. 运行 `config-firewall.bat`

---

## 🔒 安全注意事项

### 局域网访问的适用场景：

✅ **适合：**
- 家庭网络
- 办公室内部
- 临时演示
- 团队协作

❌ **不适合：**
- 公共 WiFi
- 不安全的网络
- 永久部署

### 安全建议：

1. **只在可信网络使用**
   - 家庭 WiFi
   - 公司内网
   - 密码保护的网络

2. **使用完毕后停止服务**
   - 双击 `stop.bat` 停止服务
   - 或关闭命令行窗口

3. **不要暴露到公网**
   - 本地访问仅限局域网
   - 不要将 IP 分享给陌生人

4. **定期更新**
   - 更新 Windows 补丁
   - 更新防病毒软件

---

## 🎯 使用场景

### 场景 1：向同事演示

1. 启动：`start-network.bat`
2. 查看IP：`show-ip.bat`
3. 同事访问：`http://你的IP:8080/index-vue.html`
4. 演示完毕：`stop.bat`

### 场景 2：手机浏览

1. 电脑启动：`start-network.bat`
2. 手机连接同一 WiFi
3. 手机浏览器输入：`http://电脑IP:8080/index-vue.html`
4. 开始使用

### 场景 3：平板查看

1. 平板连接同一 WiFi
2. 电脑启动：`start-network.bat`
3. 平板浏览器输入：`http://电脑IP:8080/index-vue.html`
4. 享受大屏幕体验

---

## 📊 网络模式对比

| 模式 | 启动脚本 | 监听地址 | 其他设备可访问 | 适用场景 |
|------|----------|----------|----------------|----------|
| **本地模式** | start.bat | 127.0.0.1 | ❌ 否 | 个人开发 |
| **网络模式** | start-network.bat | 0.0.0.0 | ✅ 是 | 团队协作、演示 |

---

## ✅ 配置检查清单

配置完成后，请确认：

- [ ] 两台设备连接同一个网络
- [ ] 使用 `start-network.bat` 启动
- [ ] 运行 `show-ip.bat` 查看 IP
- [ ] 其他设备可以访问 `http://IP:8080`
- [ ] 如无法访问，运行 `config-firewall.bat`
- [ ] 服务正常运行（使用 `status.bat` 检查）

---

## 🎉 完成！

现在你可以：
- ✅ 在手机上查看项目
- ✅ 在平板上展示给客户
- ✅ 在其他电脑上演示
- ✅ 团队成员实时访问

**享受局域网共享的便利！** 🌐
